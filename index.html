<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Go Crash The PC - Terminal Clicker</title>
<style>
  /* System32 Terminal Style */
  body {
    margin: 0; padding: 0;
    background: black;
    color: #00ff00;
    font-family: "Consolas", "Courier New", monospace;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }
  #container {
    display: flex;
    width: 100%;
  }
  #terminal {
    flex: 5;
    background: #000;
    border-right: 3px solid #007700;
    padding: 15px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 8px;
    text-shadow:
      0 0 5px #00ff00,
      0 0 10px #00ff00,
      0 0 20px #00ff00;
  }
  #terminal-output {
    overflow-y: auto;
    flex-grow: 1;
    scrollbar-width: thin;
    scrollbar-color: #00ff00 #000;
  }
  #terminal-output::-webkit-scrollbar {
    width: 8px;
  }
  #terminal-output::-webkit-scrollbar-thumb {
    background: #00ff00;
    border-radius: 4px;
  }
  #input-line {
    display: flex;
  }
  #input-prompt {
    user-select: none;
  }
  #command-input {
    background: black;
    border: none;
    color: #00ff00;
    font-family: inherit;
    font-size: 1em;
    flex-grow: 1;
    outline: none;
    text-shadow:
      0 0 5px #00ff00,
      0 0 10px #00ff00;
  }
  #points-box {
    flex: 1;
    background: #000;
    border-left: 3px solid #007700;
    padding: 15px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    text-shadow:
      0 0 5px #00ff00,
      0 0 10px #00ff00;
  }
  #points-box h2 {
    margin-bottom: 10px;
  }
  #shop {
    flex: 2;
    background: #000;
    border-left: 3px solid #007700;
    padding: 15px;
    box-sizing: border-box;
    overflow-y: auto;
    text-shadow:
      0 0 5px #00ff00,
      0 0 10px #00ff00;
  }
  #shop h2 {
    margin-top: 0;
  }
  .shop-item {
    background: #003300;
    margin-bottom: 10px;
    padding: 8px;
    border: 1px solid #007700;
    cursor: pointer;
    transition: background 0.2s;
  }
  .shop-item:hover {
    background: #005500;
  }
  .disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
  /* Scrollbars for shop */
  #shop::-webkit-scrollbar {
    width: 8px;
  }
  #shop::-webkit-scrollbar-thumb {
    background: #00ff00;
    border-radius: 4px;
  }
</style>
</head>
<body>
  <div id="container">
    <div id="terminal">
      <div id="terminal-output"></div>
      <div id="input-line">
        <span id="input-prompt">C:\Windows\System32&gt; </span>
        <input type="text" id="command-input" autocomplete="off" autofocus />
      </div>
    </div>
    <div id="points-box">
      <h2>Total Points</h2>
      <div id="points-display">0</div>
      <h3>Multiplier: <span id="multiplier-display">1.0x</span></h3>
      <h4>Rebirths: <span id="rebirths-display">0</span></h4>
    </div>
    <div id="shop">
      <h2>Code Bank</h2>
      <div id="shop-items"></div>
    </div>
  </div>

<script>
  // Game variables
  let points = 0;
  let pointsPerSecond = 0;
  let multiplier = 1.0;
  let rebirths = 0;
  let rebirthThreshold = 1000000000;

  // Shop Items with cool names, cost, and points per second
  const shopItems = [
[
    { name: "RAM Overload", cost: 10, pps: 1, owned: 0 },
    { name: "Fried CPU", cost: 23, pps: 3, owned: 0 },
    { name: "Glitchy GPU", cost: 53, pps: 8, owned: 0 },
    { name: "Blue Screen Booster", cost: 122, pps: 21, owned: 0 },
    { name: "Registry Cleaner", cost: 281, pps: 55, owned: 0 },
    { name: "DLL Corruptor", cost: 646, pps: 143, owned: 0 },
    { name: "Cache Evaporator", cost: 1486, pps: 372, owned: 0 },
    { name: "Virus Injector", cost: 3418, pps: 967, owned: 0 },
    { name: "Malware Manifest", cost: 7861, pps: 2514, owned: 0 },
    { name: "Driver Disabler", cost: 18080, pps: 6536, owned: 0 },
    { name: "Overclock Overlord", cost: 41584, pps: 16994, owned: 0 },
    { name: "System Freeze", cost: 95643, pps: 44184, owned: 0 },
    { name: "Packet Flooder", cost: 219979, pps: 114878, owned: 0 },
    { name: "Memory Leak", cost: 505952, pps: 298683, owned: 0 },
    { name: "Disk Thrash", cost: 1163690, pps: 776576, owned: 0 },
    { name: "Blue Screen Redux", cost: 2676487, pps: 2019098, owned: 0 },
    { name: "Kernel Panic", cost: 6155920, pps: 5249655, owned: 0 },
    { name: "Registry Bloat", cost: 14158616, pps: 13649103, owned: 0 },
    { name: "Power Surge", cost: 32564817, pps: 35487668, owned: 0 },
    { name: "Crash Loop", cost: 74899079, pps: 92267937, owned: 0 },
    { name: "System Overload", cost: 172267882, pps: 239896636, owned: 0 },
    { name: "Firmware Failure", cost: 396216129, pps: 623731254, owned: 0 },
    { name: "CPU Meltdown", cost: 911296098, pps: 1621701269, owned: 0 },
    { name: "GPU Blackout", cost: 2095981026, pps: 4216423299, owned: 0 },
    { name: "RAM Leak", cost: 4820756360, pps: 10962698498, owned: 0 },
    { name: "Cache Corruption", cost: 11087739629, pps: 28503016095, owned: 0 },
    { name: "Malware Explosion", cost: 25501801147, pps: 74107841847, owned: 0 },
    { name: "Driver Crash", cost: 58654142638, pps: 192680388802, owned: 0 },
    { name: "Overclock Crash", cost: 134913528066, pps: 500969010885, owned: 0 },
    { name: "System Shutdown", cost: 310300094552, pps: 1302419428299, owned: 0 },
    { name: "Packet Storm", cost: 714190217470, pps: 3386284513576, owned: 0 },
    { name: "Memory Leak 2.0", cost: 1642637500171, pps: 8804349735299, owned: 0 },
    { name: "Disk Thrash 2.0", cost: 3778056250393, pps: 22891309311777, owned: 0 },
    { name: "Blue Screen Nightmare", cost: 8699529375904, pps: 59517404210619, owned: 0 },
    { name: "Kernel Panic 2.0", cost: 20008917564579, pps: 154744250947609, owned: 0 },
    { name: "Registry Bloat 2.0", cost: 46020510398532, pps: 402334653987784, owned: 0 },
    { name: "Power Surge 2.0", cost: 105847174416625, pps: 1046070090368240, owned: 0 },
    { name: "Crash Loop 2.0", cost: 243448501158237, pps: 2719782234957425, owned: 0 },
    { name: "System Overload 2.0", cost: 559931552663944, pps: 7071433800889306, owned: 0 },
    { name: "Firmware Failure 2.0", cost: 1287842571127071, pps: 18484627882212200, owned: 0 },
    { name: "CPU Meltdown 2.0", cost: 2962037913582264, pps: 48360032493751714, owned: 0 },
    { name: "GPU Blackout 2.0", cost: 6812697201249207, pps: 126730484484754460, owned: 0 },
    { name: "RAM Leak 2.0", cost: 15669103562873177, pps: 332498859660361596, owned: 0 },
    { name: "Cache Corruption 2.0", cost: 35938938194608297, pps: 871496035116939994, owned: 0 },
    { name: "Malware Explosion 2.0", cost: 82459557847699084, pps: 2285989689624043985, owned: 0 },
    { name: "Driver Crash 2.0", cost: 189656982049707734, pps: 6003263193022514361, owned: 0 },
    { name: "Overclock Crash 2.0", cost: 436210059714327789, pps: 15768348201858537338, owned: 0 },
    { name: "System Shutdown 2.0", cost: 1003283131342949204, pps: 41393305324832201678, owned: 0 }
];
  // Load saved game from localStorage
  function loadGame() {
    const saved = localStorage.getItem("goCrashSave");
    if (saved) {
      const data = JSON.parse(saved);
      points = data.points || 0;
      multiplier = data.multiplier || 1.0;
      rebirths = data.rebirths || 0;
      pointsPerSecond = data.pointsPerSecond || 0;
      shopItems.forEach((item, idx) => {
        if (data.shopItems && data.shopItems[idx]) {
          item.owned = data.shopItems[idx].owned || 0;
        }
      });
      updateMultiplier();
      updatePointsUI();
      updateShop();
      updateRebirthUI();
      printLine("Save loaded.");
    } else {
      printLine("Welcome to Go Crash The PC! Type 'help' for commands.");
    }
  }

  // Save game to localStorage
  function saveGame() {
    const saveData = {
      points,
      multiplier,
      rebirths,
      pointsPerSecond,
      shopItems: shopItems.map(i => ({ owned: i.owned }))
    };
    localStorage.setItem("goCrashSave", JSON.stringify(saveData));
  }

  // Update multiplier based on rebirths
  function updateMultiplier() {
    multiplier = Math.pow(1.5, rebirths);
  }

  // Calculate total points per second based on shop and multiplier
  function calculatePointsPerSecond() {
    let total = 0;
    for (const item of shopItems) {
      total += item.pps * item.owned;
    }
    pointsPerSecond = total * multiplier;
  }

  // Update points UI
  function updatePointsUI() {
    document.getElementById("points-display").textContent = points.toLocaleString();
    document.getElementById("multiplier-display").textContent = multiplier.toFixed(1) + "x";
  }

  // Update rebirth UI
  function updateRebirthUI() {
    document.getElementById("rebirths-display").textContent = rebirths;
  }

  // Print line to terminal output
  function printLine(text) {
    const output = document.getElementById("terminal-output");
    const line = document.createElement("div");
    line.textContent = text;
    output.appendChild(line);
    output.scrollTop = output.scrollHeight;
  }

  // Update shop display
  function updateShop() {
    const shopDiv = document.getElementById("shop-items");
    shopDiv.innerHTML = "";
    shopItems.forEach((item, idx) => {
      const div = document.createElement("div");
      div.className = "shop-item" + (points >= item.cost ? "" : " disabled");
      div.textContent = `${item.name} | Cost: ${item.cost.toLocaleString()} | PPS: ${item.pps} | Owned: ${item.owned}`;
      div.onclick = () => {
        buyItem(idx);
      };
      shopDiv.appendChild(div);
    });
  }

  // Buy item function
  function buyItem(index) {
    const item = shopItems[index];
    if (points >= item.cost) {
      points -= item.cost;
      item.owned++;
      calculatePointsPerSecond();
      updatePointsUI();
      updateShop();
      printLine(`Bought ${item.name}!`);
    } else {
      printLine(`Not enough points to buy ${item.name}.`);
    }
  }

  // Handle rebirth function
  function rebirthAll() {
    if (points >= rebirthThreshold) {
      points = 0;
      rebirths++;
      updateMultiplier();
      calculatePointsPerSecond();
      updatePointsUI();
      updateRebirthUI();
      printLine(`Rebirth successful! Multiplier is now ${multiplier.toFixed(2)}x`);
      // Double the rebirth threshold for next time
      rebirthThreshold *= 2;
    } else {
      printLine(`You need ${rebirthThreshold.toLocaleString()} points to rebirth.`);
    }
  }

  // Handle commands typed in terminal
  function handleCommand(cmd) {
    const command = cmd.trim().toLowerCase();
    switch (command) {
      case "crash":
        points += 1;
        updatePointsUI();
        printLine("Crash command activated! You got 1 point.");
        break;
      case "help":
        printLine("Commands:");
        printLine("crash - Gain 1 point.");
        printLine("rebirth_all - Reset points for x1.5 multiplier.");
        printLine("buy <item name> - Buy items from Code Bank.");
        printLine("points - Show current points.");
        break;
      case "points":
        printLine(`You have ${points.toLocaleString()} points.`);
        break;
      case "rebirth_all":
        rebirthAll();
        break;
      default:
        if (command.startsWith("buy ")) {
          let itemName = cmd.slice(4).trim().toLowerCase();
          // Find shop item by name ignoring case & spaces
          const itemIndex = shopItems.findIndex(
            item => item.name.toLowerCase() === itemName
          );
          if (itemIndex !== -1) {
            buyItem(itemIndex);
          } else {
            printLine(`Item "${cmd.slice(4)}" not found in Code Bank.`);
          }
        } else {
          printLine(`Unknown command: ${cmd}`);
        }
        break;
    }
    saveGame();
  }

  // Terminal input event
  const commandInput = document.getElementById("command-input");
  commandInput.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      const cmd = commandInput.value;
      printLine(`C:\\Windows\\System32> ${cmd}`);
      handleCommand(cmd);
      commandInput.value = "";
    }
  });

  // Game loop for auto points per second
  setInterval(() => {
    points += pointsPerSecond;
    updatePointsUI();
    saveGame();
  }, 1000);

  // Initialize
  loadGame();
  calculatePointsPerSecond();
  updateShop();
  updateRebirthUI();

</script>
</body>
</html>
